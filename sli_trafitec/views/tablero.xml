<?xml version="1.0" encoding="UTF-8"?>
<openerp>
 <data>
 
 
    <!--****************************************************************************************************************-->
    <!--CUENTAS POR COBRAR-->
    <!--****************************************************************************************************************-->
    <record id='sli_trafitec_tablero_cuentasxcobrar_pivot' model='ir.ui.view'>
      <field name='name'>sli.trafitec.tablero.cuentasxcobrar.pivot</field>
      <field name='model'>account.move</field>
      <field name='arch' type='xml'>
        <pivot string="Cuentas por cobrar">
                    <!--field name="create_date" type="col" interval="day" operator="max"/-->
                    <!--field name="partner_id" type="row"/-->
                    <field name="partner_id" type="row"/>
                    <field name="residual" type="measure"/>
                    <field name="partner_id" type="count"/>
        </pivot>
      </field>
    </record>

    <record id='sli_trafitec_tablero_cuentasxpagar_pivot' model='ir.ui.view'>
      <field name='name'>sli.trafitec.tablero.cuentasxpagar.pivot</field>
      <field name='model'>account.move</field>
      <field name='arch' type='xml'>
        <pivot string="Cuentas por pagar">
                    <!--field name="create_date" type="col" interval="day" operator="max"/-->
                    <field name="partner_id" type="row"/>
                    <field name="residual" type="measure"/>
                    <field name="partner_id" type="count"/>
        </pivot>
      </field>
    </record>

 
    <record model="ir.actions.act_window" id="act_cuentasxcobrar_pivot">
        <field name="name">Cuentas por cobrar</field>
        <field name="res_model">account.move</field>
        <field name="view_id" ref="sli_trafitec_tablero_cuentasxcobrar_pivot"/>
        <field name="view_type">form</field> <!-- form -->
        <field name="view_mode">pivot</field>
        
        <field name="domain">[('residual','&gt;',0),('state','=','open'),('type','=','out_invoice')]</field>
    </record>

    
    <record model="ir.actions.act_window" id="act_cuentasxpagar_pivot">
        <field name="name">Cuentas por pagar</field>
        <field name="res_model">account.move</field>
        <field name="view_id" ref="sli_trafitec_tablero_cuentasxpagar_pivot"/>
        <field name="view_type">form</field> <!-- form -->
        <field name="view_mode">pivot</field>
        
        <field name="domain">[('residual','&gt;',0),('state','=','open'),('type','=','in_invoice')]</field>
    </record>

    <record id='sli_trafitec_tablero_cuentasxpagarvscuentasporpagar_graph' model='ir.ui.view'>
      <field name='name'>sli.trafitec.tablero.cuentasxcobrarvscuentasporcobrar.graph</field>
      <field name='model'>account.move</field>
      <field name='arch' type='xml'>
        <graph string="Viajes" display_quantity="True" display_sum="True" display_avg="True">
                    <!--field name="partner_id" type="row"/-->
                    <field name="residual" type="measure"/>
                    <field name="type" type="col"/>
                    <!--field name="partner_id" type="count"/-->
        </graph>
      </field>
    </record>
    
    
    <record model="ir.actions.act_window" id="act_cuentasxcobrar_vs_cuentasxpagar_graph">
        <field name="name">Cuentas por pagar vs Cuentas por cobrar</field>
        <field name="res_model">account.move</field>
        <field name="view_id" ref="sli_trafitec_tablero_cuentasxpagarvscuentasporpagar_graph"/>
        <field name="view_type">form</field> <!-- form -->
        <field name="view_mode">graph</field>
        <field name="domain">[('residual','&gt;',0),('state','=','open'),('type','in',['in_invoice','out_invoice'])]</field>
    </record>
    
    <!--****************************************************************************************************************-->
    <!--INDICADORES-->
    <!--****************************************************************************************************************-->
    <record id='sli_trafitec_indicadores_form' model='ir.ui.view'>
      <field name='name'>sli.trafitec.indicadores.form</field>
      <field name='model'>trafitec.viajes</field>
      <field name='arch' type='xml'>
        <form>
           <!--field name="id" widget="statinfo"/-->
           <div name="button_box" position="inside">
                    <button class="oe_stat_button" type="action" name="1201" icon="fa-tasks">
                        <field string="Viajes x2" name="conteo" widget="statinfo"/>
                    </button>
                    <br/>
                    <button class="oe_gauge_button" type="action" name="1200" icon="fa-tasks">
                        <field string="Viajes x" name="conteo" widget="gauge"/>
                    </button>
           </div>
           <!--field name="partner_id" type="row"/-->
           <!--field name="residual" type="measure"/-->
           <!--field name="type" type="col"/-->
           <!--field name="partner_id" type="count"/-->
        </form>
      </field>
    </record>
    
    <record model="ir.actions.act_window" id="act_trafitec_indicadores">
        <field name="name">Indicadores</field>
        <field name="res_model">trafitec.viajes</field>
        <field name="view_type">tree</field> <!-- form -->
        <field name="view_mode">form</field>
        <field name="view_id" ref="sli_trafitec_indicadores_form"></field>
        <!--field name="domain">[('create_uid','=',uid),('state','=','Nueva')]</field-->
    </record>
    <!--****************************************************************************************************************-->
    <!--VIAJES SIN PESO-->
    <!--****************************************************************************************************************-->
    <record id='sli_trafitec_tablero_misviajes_graph' model='ir.ui.view'>
      <field name='name'>sli.trafitec.tablero.misviajes.graph</field>
      <field name='model'>trafitec.viajes</field>
      <field name='arch' type='xml'>
        <graph string="Viajes" display_quantity="True" display_sum="True" display_avg="True">
                    <field name="fecha_viaje" type="col" interval="month"/>
                    <!--field name="partner_id" type="row"/-->
                    <!--field name="residual" type="measure"/-->
                    <!--field name="type" type="col"/-->
                    <!--field name="partner_id" type="count"/-->
        </graph>
      </field>
    </record>

    <record model="ir.actions.act_window" id="act_misviajes">
        <field name="name">Mis viajes</field>
        <field name="res_model">trafitec.viajes</field>
        <field name="view_type">tree</field> <!-- form -->
        <field name="view_mode">graph</field>
        <field name="view_id" ref="sli_trafitec_tablero_misviajes_graph"></field>
        <field name="domain">[('create_uid','=',uid),('state','=','Nueva')]</field>
    </record>
    <!---->
    
    <record model="ir.actions.act_window" id="act_misviajes_hoy">
        <field name="name">Mis viajes de hoy</field>
        <field name="res_model">trafitec.viajes</field>
        <field name="view_type">tree</field> <!-- form -->    
        <field name="view_mode">graph</field>
        <field name="domain">[('create_uid','=',uid),('state','=','Nueva')]</field>
    </record>
    
    <record id='sli_trafitec_tablero_viajes_graph' model='ir.ui.view'>
      <field name='name'>sli.trafitec.tablero.viajes.graph</field>
      <field name='model'>trafitec.viajes</field>
      <field name='arch' type='xml'>
        <graph string="Viajes" display_quantity="True" display_sum="True" display_avg="True">
                    <field name="create_date" type="col" interval="day" operator="max"/>
                    <field name="lineanegocio" type="row"/>
                    <field name="id" type="count"/>
        </graph>
      </field>
    </record>
    

    <record model="ir.actions.act_window" id="act_misasociados">
        <field name="name">Mis asociados</field>
        <field name="res_model">res.partner</field>
        <field name="view_type">form</field>
        <field name="auto_refresh" eval="1" />
        <field name="view_mode">kanban,form</field>
        <field name="domain">['&amp;',('create_uid','=',uid),('asociado','=',True),('active','=',True)]</field>

    </record>

    
    
    <record model="ir.ui.view" id="board_view_stock_centiro_form">
        <field name="name">Tablero</field>
        <field name="model">board.board</field>                                           
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Mi tablero Trafitec">
                <div style="background-color:#ddd;color:black;margin:5px;padding:5px;border-radius:10px;text-align: center;">INICIO</div>
                <board style="1" close="false">
                        <column>
                           <action string="Indicadores" name="%(act_trafitec_indicadores)d" colspan="1" />
                           <action string="Mis viajes" name="%(act_misviajes)d" colspan="1" />
                           <action string="Cuentas por cobrar vs Cuentas por pagar" name="%(act_cuentasxcobrar_vs_cuentasxpagar_graph)d" colspan="1" />
                           <action string="Cuentas por cobrar" name="%(act_cuentasxcobrar_pivot)d" colspan="1" />
                           <action string="Cuentas por pagar" name="%(act_cuentasxpagar_pivot)d" colspan="1" />
                        </column>
                </board>
            </form>
        </field>
    </record>

    
    
    <record model="ir.actions.act_window" id="sli_trafitec_tablero_accion">
        <field name="name">Stock Centiro Dashboard</field>
        <field name="res_model">board.board</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="usage">menu</field>
        <field name="view_id" ref="board_view_stock_centiro_form" />
    </record>
</data>
</openerp>